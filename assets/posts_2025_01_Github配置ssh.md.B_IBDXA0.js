import{_ as s,D as a,B as i,ah as t}from"./chunks/framework.kYnPRA0Y.js";const u=JSON.parse('{"title":"Github配置ssh","description":"","frontmatter":{"title":"Github配置ssh","date":"2025-02-03T00:00:00.000Z","tags":["教程","ssh","github"]},"headers":[],"relativePath":"posts/2025/01/Github配置ssh.md","filePath":"posts/2025/01/Github配置ssh.md","lastUpdated":1739715828000}'),e={name:"posts/2025/01/Github配置ssh.md"},h=t(`<h1 id="github-配置-ssh" tabindex="-1">GitHub 配置 SSH <a class="header-anchor" href="#github-配置-ssh" aria-label="Permalink to &quot;GitHub 配置 SSH&quot;">​</a></h1><blockquote><p>✨文章摘要 介绍了如何在 GitHub 上配置 SSH，包括生成 SSH 密钥对、获取公钥内容、添加公钥到 GitHub 账号以及验证是否设置成功。 2025.2.13 新增管理多个 SSH 密钥对的内容。</p></blockquote><h2 id="管理一个-ssh-密钥对" tabindex="-1">管理一个 SSH 密钥对 <a class="header-anchor" href="#管理一个-ssh-密钥对" aria-label="Permalink to &quot;管理一个 SSH 密钥对&quot;">​</a></h2><h3 id="_1-切换到-ssh-目录" tabindex="-1">1. 切换到 SSH 目录 <a class="header-anchor" href="#_1-切换到-ssh-目录" aria-label="Permalink to &quot;1. 切换到 SSH 目录&quot;">​</a></h3><p>切换到用户的 SSH 目录（如果目录不存在，系统会自动创建）：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh</span></span></code></pre></div><h3 id="_2-生成-ssh-密钥对" tabindex="-1">2. 生成 SSH 密钥对 <a class="header-anchor" href="#_2-生成-ssh-密钥对" aria-label="Permalink to &quot;2. 生成 SSH 密钥对&quot;">​</a></h3><p>生成一个新的 SSH 密钥对，使用 RSA 加密算法，并指定一个邮箱地址作为注释：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;your_email@example.com&quot;</span></span></code></pre></div><p>执行后，系统会提示输入密钥保存路径（直接回车使用默认路径）和密码（可选）。如果不需要密码保护，直接回车即可。</p><h3 id="_3-获取公钥内容" tabindex="-1">3. 获取公钥内容 <a class="header-anchor" href="#_3-获取公钥内容" aria-label="Permalink to &quot;3. 获取公钥内容&quot;">​</a></h3><p>查看生成的公钥内容并复制到剪贴板：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/id_rsa.pub</span></span></code></pre></div><h3 id="_4-将公钥添加到-github-账号" tabindex="-1">4. 将公钥添加到 GitHub 账号 <a class="header-anchor" href="#_4-将公钥添加到-github-账号" aria-label="Permalink to &quot;4. 将公钥添加到 GitHub 账号&quot;">​</a></h3><ol><li>登录到 GitHub 账号。</li><li>点击右上角的头像，选择 <strong>Settings</strong>。</li><li>在左侧菜单中选择 <strong>SSH and GPG keys</strong>。</li><li>点击 <strong>New SSH key</strong> 按钮。</li><li>将复制的公钥内容粘贴到 <strong>Key</strong> 输入框中，并为该密钥添加一个标题（如“Personal Laptop”）。</li><li>点击 <strong>Add SSH key</strong> 完成添加。</li></ol><h3 id="_5-验证-ssh-配置是否成功" tabindex="-1">5. 验证 SSH 配置是否成功 <a class="header-anchor" href="#_5-验证-ssh-配置是否成功" aria-label="Permalink to &quot;5. 验证 SSH 配置是否成功&quot;">​</a></h3><p>测试 SSH 连接是否成功：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -T</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@github.com</span></span></code></pre></div><p>如果配置正确，GitHub 会返回类似以下信息：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Hi username! You&#39;ve successfully authenticated, but GitHub does not provide shell access.</span></span></code></pre></div><p>如果验证失败，可能是由于默认的 SSH 端口被限制。此时需要配置 <code>config</code> 文件。</p><h3 id="_6-配置-ssh-客户端-如果验证失败" tabindex="-1">6. 配置 SSH 客户端（如果验证失败） <a class="header-anchor" href="#_6-配置-ssh-客户端-如果验证失败" aria-label="Permalink to &quot;6. 配置 SSH 客户端（如果验证失败）&quot;">​</a></h3><p>在 <code>~/.ssh</code> 目录下新建或编辑 <code>config</code> 文件，添加以下内容：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  HostName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh.github.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 443</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  User</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span></span></code></pre></div><hr><h2 id="管理多个-ssh-密钥对" tabindex="-1">管理多个 SSH 密钥对 <a class="header-anchor" href="#管理多个-ssh-密钥对" aria-label="Permalink to &quot;管理多个 SSH 密钥对&quot;">​</a></h2><h3 id="_1-进入-ssh-目录" tabindex="-1">1. 进入 SSH 目录 <a class="header-anchor" href="#_1-进入-ssh-目录" aria-label="Permalink to &quot;1. 进入 SSH 目录&quot;">​</a></h3><p>进入用户的 SSH 目录：</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh</span></span></code></pre></div><h3 id="_2-生成多个-ssh-密钥对" tabindex="-1">2. 生成多个 SSH 密钥对 <a class="header-anchor" href="#_2-生成多个-ssh-密钥对" aria-label="Permalink to &quot;2. 生成多个 SSH 密钥对&quot;">​</a></h3><p>为每个账号生成独立的 SSH 密钥对，避免覆盖默认文件。例如：</p><h4 id="生成工作账号密钥" tabindex="-1">生成工作账号密钥 <a class="header-anchor" href="#生成工作账号密钥" aria-label="Permalink to &quot;生成工作账号密钥&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4096</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;work@example.com&quot;</span></span></code></pre></div><p>保存路径输入：<code>~/.ssh/id_rsa_work</code></p><h4 id="生成个人账号密钥" tabindex="-1">生成个人账号密钥 <a class="header-anchor" href="#生成个人账号密钥" aria-label="Permalink to &quot;生成个人账号密钥&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh-keygen</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -t</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> rsa</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -b</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 4096</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -C</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;personal@example.com&quot;</span></span></code></pre></div><p>保存路径输入：<code>~/.ssh/id_rsa_personal</code></p><h3 id="_3-将公钥添加到-github-账号" tabindex="-1">3. 将公钥添加到 GitHub 账号 <a class="header-anchor" href="#_3-将公钥添加到-github-账号" aria-label="Permalink to &quot;3. 将公钥添加到 GitHub 账号&quot;">​</a></h3><h4 id="复制公钥内容" tabindex="-1">复制公钥内容 <a class="header-anchor" href="#复制公钥内容" aria-label="Permalink to &quot;复制公钥内容&quot;">​</a></h4><ul><li>工作账号公钥：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/id_rsa_work.pub</span></span></code></pre></div><ul><li>个人账号公钥：</li></ul><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">cat</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/id_rsa_personal.pub</span></span></code></pre></div><h4 id="添加到-github-账号" tabindex="-1">添加到 GitHub 账号 <a class="header-anchor" href="#添加到-github-账号" aria-label="Permalink to &quot;添加到 GitHub 账号&quot;">​</a></h4><ol><li>登录到对应的 GitHub 账号。</li><li>点击右上角的头像，选择 <strong>Settings</strong>。</li><li>在左侧菜单中选择 <strong>SSH and GPG keys</strong>。</li><li>点击 <strong>New SSH key</strong> 按钮。</li><li>将复制的公钥内容粘贴到 <strong>Key</strong> 输入框中，并为该密钥添加一个标题（如“Work Laptop”或“Personal Laptop”）。</li><li>点击 <strong>Add SSH key</strong> 完成添加。</li></ol><h3 id="_4-配置-ssh-客户端" tabindex="-1">4. 配置 SSH 客户端 <a class="header-anchor" href="#_4-配置-ssh-客户端" aria-label="Permalink to &quot;4. 配置 SSH 客户端&quot;">​</a></h3><p>编辑 <code>~/.ssh/config</code> 文件，定义主机别名及对应密钥：（有些网络不能使用22端口）</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 个人账号</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> github.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  HostName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh.github.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  User</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 443</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  IdentityFile</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/id_rsa_personal</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 工作账号</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">Host</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> work.github.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  HostName</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ssh.github.com</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  User</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  Port</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> 443</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  IdentityFile</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ~/.ssh/id_rsa_work</span></span></code></pre></div><h3 id="_5-测试-ssh-连接" tabindex="-1">5. 测试 SSH 连接 <a class="header-anchor" href="#_5-测试-ssh-连接" aria-label="Permalink to &quot;5. 测试 SSH 连接&quot;">​</a></h3><p>验证配置是否生效：</p><p>工作账户</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -T</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@work.github.com</span></span></code></pre></div><p>个人账户</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">ssh</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -T</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@personal.github.com</span></span></code></pre></div><p>如果配置正确，GitHub 会返回类似以下信息：</p><div class="language- vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>Hi work_username! You&#39;ve successfully authenticated...</span></span>
<span class="line"><span>Hi personal_username! You&#39;ve successfully authenticated...</span></span></code></pre></div><h3 id="_6-克隆仓库或修改远程-url" tabindex="-1">6. 克隆仓库或修改远程 URL <a class="header-anchor" href="#_6-克隆仓库或修改远程-url" aria-label="Permalink to &quot;6. 克隆仓库或修改远程 URL&quot;">​</a></h3><h4 id="使用对应主机别名克隆仓库" tabindex="-1">使用对应主机别名克隆仓库 <a class="header-anchor" href="#使用对应主机别名克隆仓库" aria-label="Permalink to &quot;使用对应主机别名克隆仓库&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@work.github.com:work_user/repo.git</span></span></code></pre></div><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> clone</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@personal.github.com:personal_user/repo.git</span></span></code></pre></div><h4 id="修改现有仓库的远程-url" tabindex="-1">修改现有仓库的远程 URL <a class="header-anchor" href="#修改现有仓库的远程-url" aria-label="Permalink to &quot;修改现有仓库的远程 URL&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> remote</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> set-url</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> origin</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> git@work.github.com:work_user/repo.git</span></span></code></pre></div><h3 id="_7-配置仓库级-git-用户信息-可选" tabindex="-1">7. 配置仓库级 Git 用户信息（可选） <a class="header-anchor" href="#_7-配置仓库级-git-用户信息-可选" aria-label="Permalink to &quot;7. 配置仓库级 Git 用户信息（可选）&quot;">​</a></h3><p>不同仓库可能需要不同的用户名和邮箱。例如：</p><h4 id="工作仓库" tabindex="-1">工作仓库 <a class="header-anchor" href="#工作仓库" aria-label="Permalink to &quot;工作仓库&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> work-repo</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Work Name&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.email</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;work@example.com&quot;</span></span></code></pre></div><h4 id="个人仓库" tabindex="-1">个人仓库 <a class="header-anchor" href="#个人仓库" aria-label="Permalink to &quot;个人仓库&quot;">​</a></h4><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">cd</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> ../personal-repo</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.name</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Personal Name&quot;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">git</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> config</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> user.email</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;personal@example.com&quot;</span></span></code></pre></div>`,68),n=[h];function l(p,o,k,d,r,c){return i(),a("div",null,n)}const F=s(e,[["render",l]]);export{u as __pageData,F as default};
